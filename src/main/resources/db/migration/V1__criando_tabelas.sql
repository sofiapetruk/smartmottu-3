CREATE TABLE T_SMARTMOTTU_STATUS_MOTO (
    id_status NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    status    VARCHAR2(255),
    data      DATE
);

CREATE TABLE T_SMARTMOTTU_TIPO_MOTO (
    id_tipo   NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nm_tipo   VARCHAR2(50) NOT NULL,
    CONSTRAINT chk_tipo_moto CHECK (nm_tipo IN (
        'MOTTU_SPORT_110I',
        'MOTTU_SPORT_ESD_2025'
    ))
);

CREATE TABLE T_SMARTMOTTU_MOTO (
    id_moto      NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nm_chassi    VARCHAR2(17) NOT NULL,
    placa        VARCHAR2(7)  NOT NULL,
    unidade      VARCHAR2(100),

    fk_id_status NUMBER NOT NULL,
    fk_id_tipo   NUMBER NOT NULL,

    CONSTRAINT uk_moto_chassi UNIQUE (nm_chassi),
    CONSTRAINT uk_moto_placa UNIQUE (placa),

    CONSTRAINT fk_moto_status FOREIGN KEY (fk_id_status)
        REFERENCES T_SMARTMOTTU_STATUS_MOTO (id_status),
    CONSTRAINT fk_moto_tipo FOREIGN KEY (fk_id_tipo)
        REFERENCES T_SMARTMOTTU_TIPO_MOTO (id_tipo)
);


CREATE TABLE T_SMARTMOTTU_USUARIO (
    id_usuario NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome       VARCHAR2(255),
    email      VARCHAR2(255),
    senha      VARCHAR2(255)
);

CREATE SEQUENCE SQ_T_SMARTMOTTU_USUARIO
    START WITH 1
    INCREMENT BY 1
    NOCACHE
    NOCYCLE;

CREATE SEQUENCE SQ_T_SMARTMOTTU_MOTO
    START WITH 1
    INCREMENT BY 1
    NOCACHE
    NOCYCLE;

CREATE SEQUENCE SQ_T_SMARTMOTTU_TIPO_MOTO
    START WITH 1
    INCREMENT BY 1
    NOCACHE
    NOCYCLE;


CREATE SEQUENCE SQ_T_SMARTMOTTU_STATUS_MOTO
    START WITH 1
    INCREMENT BY 1
    NOCACHE
    NOCYCLE;
